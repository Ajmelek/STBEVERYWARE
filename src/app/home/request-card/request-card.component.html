<div id="root">
  <div class="appContainer">
    <div class="form-all">
      <form [formGroup]="cardForm" (ngSubmit)="onSubmit()">
        <div class="form-line">
          <h1>Demande de Carte Bancaire</h1>
        </div>

        <div *ngIf="!showOtpField">
          <fieldset>
            <legend>Type de carte demandée</legend>
            <div class="form-line">
              <div class="radio-group">
                <label><input type="radio" formControlName="typeCarte" value="visa_electron" required /> Carte Visa Electron</label>
                <label><input type="radio" formControlName="typeCarte" value="visa_classic" /> Carte Visa Classic</label>
                <label><input type="radio" formControlName="typeCarte" value="visa_premier" /> Carte Visa Premier</label>
                <label><input type="radio" formControlName="typeCarte" value="mastercard" /> Carte Mastercard</label>
                
              </div>
            </div>
            <div class="form-line" *ngIf="cardForm.get('typeCarte')?.value === 'autre'">
              <label for="typeCarteAutre">Précisez le type de carte :</label>
              <input type="text" id="typeCarteAutre" formControlName="typeCarteAutre" />
            </div>
          </fieldset>

          <fieldset>
            <legend>Informations de contact</legend>
            <div class="form-line">
              <label for="email">Adresse e-mail :</label>
              <input type="email" id="email" formControlName="email" />
            </div>
            <div class="form-line">
              <label for="telephone">Téléphone :</label>
              <input type="tel" id="telephone" formControlName="telephone" required />
            </div>
          </fieldset>
        </div>

        <fieldset *ngIf="showOtpField">
          <legend>Code OTP</legend>
          <div class="form-line">
            <label for="otp">Code OTP :</label>
            <input type="number" id="otp" formControlName="otp" />
          </div>
        </fieldset>

        <div class="form-line">
          <button type="submit">
            {{ isSubmitting ? 'Envoi en cours...' : 'Envoyer la demande' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>